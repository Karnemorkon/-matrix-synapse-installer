# Matrix Synapse Auto Installer 3.0

üöÄ **–ü–æ–≤–Ω—ñ—Å—Ç—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–∏–π —ñ–Ω—Å—Ç–∞–ª—è—Ç–æ—Ä Matrix Synapse –∑ –º–æ–¥—É–ª—å–Ω–æ—é –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–æ—é**

[![Version](https://img.shields.io/badge/Version-3.0-blue.svg)](https://github.com/your-username/matrix-synapse-installer)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Shell Script](https://img.shields.io/badge/Shell-Bash-green.svg)](https://www.gnu.org/software/bash/)

## üìã –ó–º—ñ—Å—Ç

- [–©–æ –Ω–æ–≤–æ–≥–æ –≤ –≤–µ—Ä—Å—ñ—ó 3.0](#—â–æ-–Ω–æ–≤–æ–≥–æ-–≤-–≤–µ—Ä—Å—ñ—ó-30)
- [–°–∏—Å—Ç–µ–º–Ω—ñ –≤–∏–º–æ–≥–∏](#—Å–∏—Å—Ç–µ–º–Ω—ñ-–≤–∏–º–æ–≥–∏)
- [–®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç](#—à–≤–∏–¥–∫–∏–π-—Å—Ç–∞—Ä—Ç)
- [–î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è](#–¥–µ—Ç–∞–ª—å–Ω–∞-—ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è)
- [–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è](#–∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è)
- [–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–æ—é](#—É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è-—Å–∏—Å—Ç–µ–º–æ—é)
- [–†–µ–∑–µ—Ä–≤–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è](#—Ä–µ–∑–µ—Ä–≤–Ω–µ-–∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è)
- [–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥](#–º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥)
- [–ú–æ—Å—Ç–∏](#–º–æ—Å—Ç–∏)
- [–£—Å—É–Ω–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º](#—É—Å—É–Ω–µ–Ω–Ω—è-–ø—Ä–æ–±–ª–µ–º)
- [–ü—ñ–¥—Ç—Ä–∏–º–∫–∞](#–ø—ñ–¥—Ç—Ä–∏–º–∫–∞)
- [–õ—ñ—Ü–µ–Ω–∑—ñ—è](#–ª—ñ—Ü–µ–Ω–∑—ñ—è)
- [–ü–æ–¥—è–∫–∏](#–ø–æ–¥—è–∫–∏)

## üéØ –©–æ –Ω–æ–≤–æ–≥–æ –≤ –≤–µ—Ä—Å—ñ—ó 3.0

### üèóÔ∏è –ú–æ–¥—É–ª—å–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞
- **–†–æ–∑–¥—ñ–ª–µ–Ω—ñ –º–æ–¥—É–ª—ñ** –¥–ª—è –∫–æ–∂–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ
- **–¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è** –∑ —Ä—ñ–∑–Ω–∏–º–∏ —Ä—ñ–≤–Ω—è–º–∏
- **–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω–∞ —Å–∏—Å—Ç–µ–º–∞** –∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é
- **–ü–æ–∫—Ä–∞—â–µ–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫**

### üîß –ü–æ–∫—Ä–∞—â–µ–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è
- **–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π —Å–∫—Ä–∏–ø—Ç —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è** `matrix-control.sh`
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è** —Å–∏—Å—Ç–µ–º–Ω–∏—Ö –≤–∏–º–æ–≥
- **–†–æ–∑—à–∏—Ä–µ–Ω–∞ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞** –∑–¥–æ—Ä–æ–≤'—è —Å–∏—Å—Ç–µ–º–∏
- **–¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏**

### üìä –†–æ–∑—à–∏—Ä–µ–Ω–∏–π –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥
- **Prometheus + Grafana** –∑ –≥–æ—Ç–æ–≤–∏–º–∏ –¥–∞—à–±–æ—Ä–¥–∞–º–∏
- **Alertmanager** –¥–ª—è email —Å–ø–æ–≤—ñ—â–µ–Ω—å
- **–°–∏—Å—Ç–µ–º–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏** —á–µ—Ä–µ–∑ Node Exporter
- **–ú–µ—Ç—Ä–∏–∫–∏ PostgreSQL** —á–µ—Ä–µ–∑ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π –µ–∫—Å–ø–æ—Ä—Ç–µ—Ä

### üíæ –ü–æ–∫—Ä–∞—â–µ–Ω–µ —Ä–µ–∑–µ—Ä–≤–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –±–µ–∫–∞–ø–∏** –∑ —Ä–æ—Ç–∞—Ü—ñ—î—é
- **–°–∫—Ä–∏–ø—Ç –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è** –∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é
- **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ –±–µ–∫–∞–ø–∏** –∑ –∑—É–ø–∏–Ω–∫–æ—é —Å–µ—Ä–≤—ñ—Å—ñ–≤
- **–ì–Ω—É—á–∫–∏–π —Ä–æ–∑–∫–ª–∞–¥** (—â–æ–¥–Ω—è/—â–æ—Ç–∏–∂–Ω—è/–≤—Ä—É—á–Ω—É)

## üì• –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

\`\`\`
matrix-synapse-installer/
‚îú‚îÄ‚îÄ install.sh                 # –ì–æ–ª–æ–≤–Ω–∏–π —Å–∫—Ä–∏–ø—Ç –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è
‚îú‚îÄ‚îÄ lib/                      # –ú–æ–¥—É–ª—ñ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ
‚îÇ   ‚îú‚îÄ‚îÄ logger.sh            # –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è
‚îÇ   ‚îú‚îÄ‚îÄ config.sh            # –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é
‚îÇ   ‚îú‚îÄ‚îÄ validator.sh         # –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Å–∏—Å—Ç–µ–º–∏ —Ç–∞ –≤–≤–æ–¥—É
‚îÇ   ‚îú‚îÄ‚îÄ docker.sh            # Docker —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å
‚îÇ   ‚îú‚îÄ‚îÄ matrix.sh            # Matrix Synapse —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ bridges.sh           # –ú–æ—Å—Ç–∏ Mautrix
‚îÇ   ‚îú‚îÄ‚îÄ monitoring.sh        # Prometheus/Grafana
‚îÇ   ‚îú‚îÄ‚îÄ backup.sh            # –†–µ–∑–µ—Ä–≤–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è
‚îÇ   ‚îî‚îÄ‚îÄ security.sh          # SSL —Ç–∞ –±–µ–∑–ø–µ–∫–∞
‚îú‚îÄ‚îÄ bin/                     # –í–∏–∫–æ–Ω—É–≤–∞–Ω—ñ —Å–∫—Ä–∏–ø—Ç–∏
‚îÇ   ‚îî‚îÄ‚îÄ matrix-control.sh    # –ì–æ–ª–æ–≤–Ω–∏–π —Å–∫—Ä–∏–ø—Ç —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è
‚îú‚îÄ‚îÄ templates/               # –®–∞–±–ª–æ–Ω–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π
‚îú‚îÄ‚îÄ docs/                    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
‚îî‚îÄ‚îÄ README.md               # –¶–µ–π —Ñ–∞–π–ª
\`\`\`

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è

\`\`\`bash
git clone https://github.com/your-username/matrix-synapse-installer.git
cd matrix-synapse-installer
chmod +x install.sh
\`\`\`

### 2. –ó–∞–ø—É—Å–∫ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

\`\`\`bash
sudo ./install.sh
\`\`\`

### 3. –°–ª—ñ–¥—É–≤–∞–Ω–Ω—è –º–∞–π—Å—Ç—Ä—É –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

–°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ–¥–µ –≤–∞—Å —á–µ—Ä–µ–∑ –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –∫—Ä–æ–∫–∏:
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º–Ω–∏—Ö –≤–∏–º–æ–≥
- ‚öôÔ∏è –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
- üîê –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–µ–∑–ø–µ–∫–∏
- üê≥ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Docker —Å–µ—Ä–≤—ñ—Å—ñ–≤
- üìä –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É
- üíæ –°–∏—Å—Ç–µ–º–∞ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è

## üìã –°–∏—Å—Ç–µ–º–Ω—ñ –≤–∏–º–æ–≥–∏

### –ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –≤–∏–º–æ–≥–∏
- **–û–°**: Ubuntu 20.04+ / Debian 11+
- **RAM**: 2GB (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ 4GB+)
- **–î–∏—Å–∫**: 10GB –≤—ñ–ª—å–Ω–æ–≥–æ –º—ñ—Å—Ü—è
- **CPU**: 1 —è–¥—Ä–æ (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ 2+)
- **–ú–µ—Ä–µ–∂–∞**: –î–æ—Å—Ç—É–ø –¥–æ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É

### –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ –≤–∏–º–æ–≥–∏
- **RAM**: 4GB+
- **–î–∏—Å–∫**: 50GB+ SSD
- **CPU**: 2+ —è–¥—Ä–∞
- **–ú–µ—Ä–µ–∂–∞**: –°—Ç–∞—Ç–∏—á–Ω–∏–π IP –∞–±–æ –¥–æ–º–µ–Ω

## üìñ –î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è

### –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

1. **–û–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏**:
\`\`\`bash
sudo apt update && sudo apt upgrade -y
\`\`\`

2. **–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –±–∞–∑–æ–≤–∏—Ö –ø–∞–∫–µ—Ç—ñ–≤**:
\`\`\`bash
sudo apt install -y curl wget git
\`\`\`

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–æ–º–µ–Ω—É

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —Å–∫—Ä–∏–ø—Ç–∞ –Ω–∞–ª–∞—à—Ç—É–π—Ç–µ DNS-–∑–∞–ø–∏—Å–∏:

\`\`\`
# A-–∑–∞–ø–∏—Å –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –¥–æ–º–µ–Ω—É
matrix.example.com -> IP_–≤–∞—à–æ–≥–æ_—Å–µ—Ä–≤–µ—Ä–∞

# –ê–±–æ CNAME –¥–ª—è –ø—ñ–¥–¥–æ–º–µ–Ω—É
matrix.example.com -> your-server.example.com
\`\`\`

### Cloudflare Tunnel (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

1. –°—Ç–≤–æ—Ä—ñ—Ç—å –æ–±–ª—ñ–∫–æ–≤–∏–π –∑–∞–ø–∏—Å –Ω–∞ [Cloudflare](https://cloudflare.com)
2. –î–æ–¥–∞–π—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω –¥–æ Cloudflare
3. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **Zero Trust** ‚Üí **Access** ‚Üí **Tunnels**
4. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π —Ç—É–Ω–µ–ª—å —Ç–∞ —Å–∫–æ–ø—ñ—é–π—Ç–µ —Ç–æ–∫–µ–Ω
5. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ —Ç–æ–∫–µ–Ω –ø—ñ–¥ —á–∞—Å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### Let's Encrypt SSL

–Ø–∫—â–æ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ Cloudflare Tunnel:
1. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –ø–æ—Ä—Ç–∏ 80 —Ç–∞ 443 –≤—ñ–¥–∫—Ä–∏—Ç—ñ
2. –î–æ–º–µ–Ω –ø–æ–≤–∏–Ω–µ–Ω –≤–∫–∞–∑—É–≤–∞—Ç–∏ –Ω–∞ IP —Å–µ—Ä–≤–µ—Ä–∞
3. –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—Ç—Ä–∏–º–∞—î SSL —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç

## ‚öôÔ∏è –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

### –§–∞–π–ª–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó

- **–ì–æ–ª–æ–≤–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è**: `~/.config/matrix-installer/config.conf`
- **Docker Compose**: `/DATA/matrix/docker-compose.yml`
- **–ó–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è**: `/DATA/matrix/.env`

### –ü–æ–≤—Ç–æ—Ä–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

\`\`\`bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –∑–Ω–æ–≤—É
sudo ./install.sh

# –ê–±–æ –≤—ñ–¥—Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –≤—Ä—É—á–Ω—É
nano ~/.config/matrix-installer/config.conf
\`\`\`

## üéõÔ∏è –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–æ—é

### –û—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–∞–Ω–¥–∏

\`\`\`bash
# –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º–∏
./bin/matrix-control.sh status

# –ó–∞–ø—É—Å–∫/–∑—É–ø–∏–Ω–∫–∞
./bin/matrix-control.sh start
./bin/matrix-control.sh stop
./bin/matrix-control.sh restart

# –õ–æ–≥–∏
./bin/matrix-control.sh logs
./bin/matrix-control.sh logs synapse

# –û–Ω–æ–≤–ª–µ–Ω–Ω—è
./bin/matrix-control.sh update

# –†–µ–∑–µ—Ä–≤–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è
./bin/matrix-control.sh backup

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤'—è
./bin/matrix-control.sh health
\`\`\`

### –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏

\`\`\`bash
# –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
./bin/matrix-control.sh user create admin

# –°–ø–∏—Å–æ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
./bin/matrix-control.sh user list

# –î–µ–∞–∫—Ç–∏–≤—É–≤–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
./bin/matrix-control.sh user deactivate username
\`\`\`

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

### –î–æ—Å—Ç—É–ø –¥–æ —Å–µ—Ä–≤—ñ—Å—ñ–≤

- **Prometheus**: `http://your-server:9090`
- **Grafana**: `http://your-server:3000` (admin/admin123)
- **Synapse Admin**: `http://your-server:8080`
- **Portainer**: `https://your-server:9443`

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∞–ª–µ—Ä—Ç—ñ–≤

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤—É—î –∞–ª–µ—Ä—Ç–∏ –¥–ª—è:
- üî¥ –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å Synapse
- üü° –í–∏—Å–æ–∫–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ (>90%)
- üü° –í–∏—Å–æ–∫–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –¥–∏—Å–∫–∞ (>80%)
- üî¥ –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å PostgreSQL

## üíæ –†–µ–∑–µ—Ä–≤–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –±–µ–∫–∞–ø–∏

\`\`\`bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å cron
crontab -l

# –†—É—á–Ω–∏–π –∑–∞–ø—É—Å–∫ –±–µ–∫–∞–ø—É
./bin/matrix-control.sh backup

# –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤ –±–µ–∫–∞–ø—É
tail -f /DATA/matrix-backups/backup.log
\`\`\`

### –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è

\`\`\`bash
# –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω–∏—Ö –±–µ–∫–∞–ø—ñ–≤
ls -la /DATA/matrix-backups/

# –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –∑ –±–µ–∫–∞–ø—É
./bin/matrix-control.sh restore matrix-backup-2024-01-01_12-00-00.tar.gz
\`\`\`

## üåâ –ú–æ—Å—Ç–∏

### –ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ –º–æ—Å—Ç–∏

- **Signal Bridge** - –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Signal
- **WhatsApp Bridge** - –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ WhatsApp  
- **Telegram Bridge** - –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Telegram
- **Discord Bridge** - –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Discord

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –º–æ—Å—Ç—ñ–≤

1. –°—Ç–≤–æ—Ä—ñ—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ Matrix
2. –£–≤—ñ–π–¥—ñ—Ç—å –≤ Element Web
3. –ó–Ω–∞–π–¥—ñ—Ç—å –±–æ—Ç–∞ –º–æ—Å—Ç–∞ (`@signalbot:your-domain`)
4. –ü–æ—á–Ω—ñ—Ç—å –¥—ñ–∞–ª–æ–≥ —Ç–∞ —Å–ª—ñ–¥—É–π—Ç–µ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è–º

–î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è: `/DATA/matrix/docs/BRIDGES.md`

## üîí –ë–µ–∑–ø–µ–∫–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

- ‚úÖ **UFW Firewall** –∑ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏
- ‚úÖ **Let's Encrypt SSL** (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
- ‚úÖ **Cloudflare Tunnel** –ø—ñ–¥—Ç—Ä–∏–º–∫–∞
- ‚úÖ **–ë–µ–∑–ø–µ—á–Ω—ñ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É** –¥–æ —Ñ–∞–π–ª—ñ–≤
- ‚úÖ **Security headers** –≤ Nginx

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

\`\`\`bash
# –†–µ–≥—É–ª—è—Ä–Ω—ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
sudo apt update && sudo apt upgrade -y
./bin/matrix-control.sh update

# –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥—ñ–≤
./bin/matrix-control.sh logs synapse | grep -i "error\|warning"

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –±–µ–∑–ø–µ–∫–∏
./bin/matrix-control.sh health
\`\`\`

## üîß –£—Å—É–Ω–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

\`\`\`bash
# –ó–∞–≥–∞–ª—å–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤'—è
./bin/matrix-control.sh health

# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤—ñ—Å—ñ–≤
./bin/matrix-control.sh status

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤—ñ—Å—É
./bin/matrix-control.sh logs synapse
./bin/matrix-control.sh logs postgres
\`\`\`

### –¢–∏–ø–æ–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏

#### Synapse –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è

\`\`\`bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª–æ–≥–∏
./bin/matrix-control.sh logs synapse

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é
docker compose exec synapse python -m synapse.config.homeserver --config-path /data/homeserver.yaml

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏
./bin/matrix-control.sh restart
\`\`\`

#### –ü—Ä–æ–±–ª–µ–º–∏ –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö

\`\`\`bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å PostgreSQL
./bin/matrix-control.sh logs postgres

# –ü—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –¥–æ –±–∞–∑–∏
cd /DATA/matrix
docker compose exec postgres psql -U matrix_user -d matrix_db
\`\`\`

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

### –õ–æ–∫–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

–ü—ñ—Å–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ `/DATA/matrix/docs/`:

- `README.md` - –ó–∞–≥–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è
- `BRIDGES.md` - –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –º–æ—Å—Ç—ñ–≤
- `SECURITY.md` - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –∑ –±–µ–∑–ø–µ–∫–∏
- `TROUBLESHOOTING.md` - –£—Å—É–Ω–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### –ó–æ–≤–Ω—ñ—à–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏

- [Matrix.org Documentation](https://matrix.org/docs/)
- [Synapse Documentation](https://matrix-org.github.io/synapse/)
- [Element Documentation](https://element.io/help)
- [Mautrix Bridges](https://docs.mau.fi/)

## ü§ù –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

### –û—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–æ–ø–æ–º–æ–≥–∏

1. **GitHub Issues**: [–°—Ç–≤–æ—Ä–∏—Ç–∏ issue](https://github.com/your-username/matrix-synapse-installer/issues)
2. **Matrix –∫—ñ–º–Ω–∞—Ç–∞**: `#matrix-installer:matrix.org`
3. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è**: `/DATA/matrix/docs/`

### –í–Ω–µ—Å–æ–∫ —É –ø—Ä–æ–µ–∫—Ç

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
2. –°—Ç–≤–æ—Ä—ñ—Ç—å feature branch
3. –ó—Ä–æ–±—ñ—Ç—å –∑–º—ñ–Ω–∏ –∑ —Ç–µ—Å—Ç–∞–º–∏
4. –°—Ç–≤–æ—Ä—ñ—Ç—å Pull Request

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT License - –¥–∏–≤—ñ—Ç—å—Å—è [LICENSE](LICENSE) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## üôè –ü–æ–¥—è–∫–∏

- Matrix Foundation –∑–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª
- –ö–æ–º–∞–Ω–¥—ñ Synapse –∑–∞ —Å–µ—Ä–≤–µ—Ä
- Mautrix –∑–∞ –º–æ—Å—Ç–∏
- –°–ø—ñ–ª—å–Ω–æ—Ç—ñ –∑–∞ –≤—ñ–¥–≥—É–∫–∏ —Ç–∞ –≤–Ω–µ—Å–∫–∏

---

**‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ**: –ó–∞–≤–∂–¥–∏ —Ä–æ–±—ñ—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—ñ –∫–æ–ø—ñ—ó –ø–µ—Ä–µ–¥ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º–∏!

**üîí –ë–µ–∑–ø–µ–∫–∞**: –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–Ω–æ–≤–ª—é–π—Ç–µ —Å–∏—Å—Ç–µ–º—É —Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏.

**üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞**: –ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å—Ç–≤–æ—Ä—ñ—Ç—å issue –∑ –¥–µ—Ç–∞–ª—å–Ω–∏–º –æ–ø–∏—Å–æ–º —Ç–∞ –ª–æ–≥–∞–º–∏.
